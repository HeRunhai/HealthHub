<!DOCTYPE html>
<html>

<head>
  <title>住院信息</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet" />
  <link href="data/styles.css" type="text/css" rel="stylesheet" />
  <link href="files/住院信息/styles.css" type="text/css" rel="stylesheet" />
  <link rel="stylesheet" href="../css/style.css" type="text/css">
  <script src="resources/scripts/jquery-3.2.1.min.js"></script>
  <script src="resources/scripts/axure/axQuery.js"></script>
  <script src="resources/scripts/axure/globals.js"></script>
  <script src="resources/scripts/axutils.js"></script>
  <script src="resources/scripts/axure/annotation.js"></script>
  <script src="resources/scripts/axure/axQuery.std.js"></script>
  <script src="resources/scripts/axure/doc.js"></script>
  <script src="resources/scripts/messagecenter.js"></script>
  <script src="resources/scripts/axure/events.js"></script>
  <script src="resources/scripts/axure/recording.js"></script>
  <script src="resources/scripts/axure/action.js"></script>
  <script src="resources/scripts/axure/expr.js"></script>
  <script src="resources/scripts/axure/geometry.js"></script>
  <script src="resources/scripts/axure/flyout.js"></script>
  <script src="resources/scripts/axure/model.js"></script>
  <script src="resources/scripts/axure/repeater.js"></script>
  <script src="resources/scripts/axure/sto.js"></script>
  <script src="resources/scripts/axure/utils.temp.js"></script>
  <script src="resources/scripts/axure/variables.js"></script>
  <script src="resources/scripts/axure/drag.js"></script>
  <script src="resources/scripts/axure/move.js"></script>
  <script src="resources/scripts/axure/visibility.js"></script>
  <script src="resources/scripts/axure/style.js"></script>
  <script src="resources/scripts/axure/adaptive.js"></script>
  <script src="resources/scripts/axure/tree.js"></script>
  <script src="resources/scripts/axure/init.temp.js"></script>
  <script src="resources/scripts/axure/legacy.js"></script>
  <script src="resources/scripts/axure/viewer.js"></script>
  <script src="resources/scripts/axure/math.js"></script>
  <script src="resources/scripts/axure/jquery.nicescroll.min.js"></script>
  <script src="data/document.js"></script>
  <script src="files/住院信息/data.js"></script>
</head>

<body>
  <div id="base" class="" style="margin-top: 20px;">

    <div id="container">

      <!-- Unnamed (组合) -->
      <div id="u27" class="ax_default" data-left="125" data-top="189" data-width="1440" data-height="836">

        <!-- 新建按钮 (矩形) -->
        <div id="u29" class="ax_default button" data-label="新建按钮" onclick="add()">
          <div id="u29_div" class=""></div>
          <div id="u29_text" class="text ">
            <p style="font-size:16px;"><span style="text-decoration:none;">&nbsp;&nbsp;&nbsp; </span><span
                style="font-size:18px;text-decoration:none;">Add</span></p>
          </div>
        </div>

        <!-- Unnamed (矩形) -->
        <div id="u30" class="ax_default _文本段落">
          <div id="u30_div" class=""></div>
          <div id="u30_text" class="text ">
            <p><span style="text-decoration:none;">Hospitalization Information</span></p>
          </div>
        </div>

        <!-- Unnamed (矩形) -->
        <div id="u32" class="ax_default label">
          <div id="u32_div" class=""></div>
          <div id="u32_text" class="text ">
            <p><span style="text-decoration:none;">Department:</span></p>
          </div>
        </div>

        <!-- Unnamed (矩形) -->
        <div id="uNew" class="ax_default label">
          <div id="uNew_div" class=""></div>
          <div id="uNew_text" class="text ">
            <p><span style="text-decoration:none;">Status:</span></p>
          </div>
        </div>

        <!-- Main data -->
        <div id="u_main" class="ax_default">
            <div class="main2">
              <div>
                <div style="max-height: 600px; overflow-y: scroll">
                  <table id="table1" cellspacing="0px">
                    <thead>
                      <tr class="tableTitle" align="center">
                        <td class="colId">No.</td>
                        <td class="colDep">Department</td>
                        <td class="colId2">Patient Id</td>
                        <td class="col4">Name</td>
                        <td class="col5">Gender</td>
                        <td class="col6">Birth</td>
                        <td class="col6">Room</td>
                        <td class="col7">Status</td>
                        <td class="col7">Start time</td>
                        <td class="col7">Submitter</td>
                        <td class="colOperation">Operation</td>
                      </tr>
                    </thead>
                    <tbody id="HospitalizationInfo">
                      <!--Here data from controller and set by script-->
                    </tbody>
                  </table>
                </div>

                <div id="lowerLbl" align="center">
                  <p>Total</p>
                  <p id="Total_PageNum">0</p>
                  <p>Pages</p>
                  <button onclick="last()"><</button>
                  <button id="page" style="background-color: #5899ce; color: white" value="1" disabled>1</button>
                  <button onclick="next()">></button>
                  &nbsp;
                  <p>Go to Page</p>
                  <input type="text" id="goPage"/>
                  <img src="../static/Icons/next-button.png" onclick="goPage()" title="Go page" style="position: absolute; max-width: 22px;max-height: 22px; padding-left: 10px;"/>
                </div>

              </div>
            </div>
        </div>

        <!-- Unnamed (组合) -->
        <div id="u85" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

          <div id="pages">
            <!-- Unnamed (组合) -->
            <div id="u86" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

              <!-- Unnamed (组合) -->
              <div id="u87" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

                <!-- Unnamed (组合) -->
                <div id="u88" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

                  <!-- Unnamed (组合) -->
                  <div id="u89" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

                    <!-- Unnamed (组合) -->
                    <div id="u90" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

                      <!-- Unnamed (组合) -->
                      <div id="u91" class="ax_default" data-left="569" data-top="928" data-width="599" data-height="28">

                        <!-- Unnamed (组合) -->
                        <div id="u92" class="ax_default" data-left="569" data-top="928" data-width="599"
                          data-height="28">

                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Unnamed (下拉列表) -->
          <div id="u112" class="ax_default droplist">
            <div id="u112_div" class=""></div>
            <select id="u112_input" class="u112_input">
              <option class="u112_input_option" value="dermatology">dermatology</option>
              <option class="u112_input_option" value="ear, nose &amp; throat">ear, nose &amp; throat</option>
              <option class="u112_input_option" value="emergency department">emergency department</option>
              <option class="u112_input_option" value="gynecology &amp; obstetrics">gynecology &amp; obstetrics</option>
              <option class="u112_input_option" value="ophthalmology">ophthalmology</option>
              <option class="u112_input_option" value="stomatology">stomatology</option>
            </select>
          </div>

          <div id="uNew2" class="ax_default droplist">
            <div id="uNew2_div" class=""></div>
            <select id="uNew2_input" class="uNew2_input">
              <option class="uNew2_input_option" value="dermatology">All</option>
              <option class="uNew2_input_option" value="ear, nose &amp; throat">Currently hospitalized</option>
              <option class="uNew2_input_option" value="emergency department">Waiting to be hospitalized</option>
              <option class="uNew2_input_option" value="gynecology &amp; obstetrics">Discharged</option>
            </select>
          </div>

          <!-- Unnamed (图片 ) -->
          <div id="u113" class="ax_default refs-design-apple">
            <img id="u113_img" class="img " src="images/住院信息/u113.png" />
            <div id="u113_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <!-- <div id="u114" class="ax_default label">
            <div id="u114_div" class=""></div>
            <div id="u114_text" class="text ">
              <p><span style="text-decoration:none;">Del</span></p>
            </div>
          </div> -->
        </div>

        <!-- 编辑 (组合) -->
        <div id="u115" class="ax_default ax_default_hidden" data-label="编辑" style="display:none; visibility:hidden"
          data-left="434" data-top="285" data-width="894" data-height="643">

          <!-- 安排住院 (矩形) -->
          <div id="u116" class="ax_default shape" data-label="安排住院">
            <div id="u116_div" class=""></div>
            <div id="u116_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u117" class="ax_default shape">
            <div id="u117_div" class=""></div>
            <div id="u117_text" class="text ">
              <p><span style="text-decoration:none;">Edit hospitalization</span></p>
            </div>
          </div>

          <!-- Unnamed (Triangle Up) -->
          <div id="u118" class="ax_default shape">
            <img id="u118_img" class="img " src="images/住院信息/u118.svg" />
            <div id="u118_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u119" class="ax_default label">
            <div id="u119_div" class=""></div>
            <div id="u119_text" class="text ">
              <p><span style="text-decoration:none;">Department: </span></p>
              <p><span style="text-decoration:none;"><br></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u120" class="ax_default label">
            <div id="u120_div" class=""></div>
            <div id="u120_text" class="text ">
              <p><span style="text-decoration:none;">Start time: </span></p>
            </div>
          </div>

          <span id="hno" style="display: none;"></span>

          <!-- Unnamed (矩形) -->
          <div id="u121" class="ax_default label">
            <div id="u121_div" class=""></div>
            <div id="u121_text" class="text ">
              <p>Submitted by: <span style="text-decoration:none;" id="doctor_name"></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u122" class="ax_default button">
            <div id="u122_div" class=""></div>
            <div id="u122_text" class="text ">
              <p><span style="text-decoration:none;">Cancel</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u123" class="ax_default button">
            <div id="u123_div" class=""></div>
            <div id="u123_text" class="text ">
              <p><span style="text-decoration:none;" onclick="ConfirmEdit()">Confirm</span></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u124" class="ax_default label">
            <img id="u124_img" class="img " src="images/住院信息/u124.svg" />
            <div id="u124_text" class="text ">
              <p><span style="text-decoration:none;">Building: </span></p>
              <p><span style="text-decoration:none;"><br></span></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u125" class="ax_default label">
            <img id="u125_img" class="img " src="images/住院信息/u125.svg" />
            <div id="u125_text" class="text ">
              <p><span style="text-decoration:none;">Room: </span></p>
              <p><span style="text-decoration:none;"><br></span></p>
            </div>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u126" class="ax_default text_field">
            <div id="u126_div" class=""></div>
            <input id="u126_input" type="date" value="" class="u126_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u127" class="ax_default text_field">
            <div id="u127_div" class=""></div>
            <input id="u127_input" type="text" value="" class="u127_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u128" class="ax_default text_field">
            <div id="u128_div" class=""></div>
            <input id="u128_input" type="text" value="" class="u128_input" />
          </div>

          <!-- 页面顶部的下拉列表 -->
          <div id="u129" class="ax_default droplist">
            <div id="u129_div" class=""></div>
            <select id="u129_input" class="u129_input">
              <option class="u129_input_option" value="dermatology">dermatology</option>
              <option class="u129_input_option" value="ear, nose &amp; throat">ear, nose &amp; throat</option>
              <option class="u129_input_option" value="emergency department">emergency department</option>
              <option class="u129_input_option" value="gynecology &amp; obstetrics">gynecology &amp; obstetrics</option>
              <option class="u129_input_option" value="ophthalmology">ophthalmology</option>
              <option class="u129_input_option" value="stomatology">stomatology</option>
            </select>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u130" class="ax_default label">
            <div id="u130_div" class=""></div>
            <div id="u130_text" class="text ">
              <p><span style="text-decoration:none;">Birthday:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u131" class="ax_default label">
            <div id="u131_div" class=""></div>
            <div id="u131_text" class="text ">
              <p><span style="text-decoration:none;">Name:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u132" class="ax_default label">
            <div id="u132_div" class=""></div>
            <div id="u132_text" class="text ">
              <p><span style="text-decoration:none;">Gender:</span></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u133" class="ax_default label">
            <img id="u133_img" class="img " src="images/住院信息/u133.svg" />
            <div id="u133_text" class="text ">
              <p><span style="text-decoration:none;">Passport:</span></p>
            </div>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u134" class="ax_default text_field">
            <div id="u134_div" class=""></div>
            <input id="u134_input" type="tel" value="" class="u134_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u135" class="ax_default text_field">
            <div id="u135_div" class=""></div>
            <input id="u135_input" type="text" value="" class="u135_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u136" class="ax_default text_field">
            <div id="u136_div" class=""></div>
            <input id="u136_input" type="text" value="" class="u136_input" />
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u137" class="ax_default label">
            <div id="u137_div" class=""></div>
            <div id="u137_text" class="text ">
              <p><span style="text-decoration:none;">Phone:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u138" class="ax_default label">
            <div id="u138_div" class=""></div>
            <div id="u138_text" class="text ">
              <p><span style="text-decoration:none;">Address:</span></p>
            </div>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u139" class="ax_default text_field">
            <div id="u139_div" class=""></div>
            <input id="u139_input" type="tel" value="" class="u139_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u140" class="ax_default text_field">
            <div id="u140_div" class=""></div>
            <input id="u140_input" type="text" value="" class="u140_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u141" class="ax_default text_field">
            <div id="u141_div" class=""></div>
            <input id="u141_input" type="text" value="" class="u141_input" />
          </div>
        </div>

        <!-- 是否删除该排班 (组合) -->
        <div id="u142" class="ax_default ax_default_hidden" data-label="是否删除该排班"
          style="display:none; visibility: hidden" data-left="557" data-top="283" data-width="576" data-height="330">

          <!-- Unnamed (矩形) -->
          <div id="u143" class="ax_default box_1">
            <div id="u143_div" class=""></div>
            <div id="u143_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u144" class="ax_default _文本段落">
            <div id="u144_div" class=""></div>
            <div id="u144_text" class="text ">
              <p><span style="text-decoration:none; font-weight: 700;">Sure to delete the following hospitalization?</span></p>
              <hr size="1px" color="black"/>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u145" class="ax_default label" style="margin-top: 10px;">
            <div id="u145_div" class=""></div>
            <div id="u145_text" class="text">
              <p>No: <span style="text-decoration:none;" id="hno2"></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u146" class="ax_default label" style="margin-top: 10px;">
            <div id="u146_div" class=""></div>
            <div id="u146_text" class="text ">
              <p>Patient name: <span style="text-decoration:none;" id="name2"></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u147" class="ax_default label" style="margin-top: 10px;">
            <div id="u147_div" class=""></div>
            <div id="u147_text" class="text ">
              <p>Department: <span style="text-decoration:none;" id="department2"></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u148" class="ax_default label" style="margin-top: 10px;">
            <div id="u148_div" class=""></div>
            <div id="u148_text" class="text ">
              <p>Gender: <span style="text-decoration:none;" id="gender2"></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u149" class="ax_default primary_button" onclick="confirmDel()">
            <div id="u149_div" class=""></div>
            <div id="u149_text" class="text ">
              <p><span style="text-decoration:none;">Confirm</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u150" class="ax_default button">
            <div id="u150_div" class=""></div>
            <div id="u150_text" class="text ">
              <p><span style="text-decoration:none;">Cancel</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u151" class="ax_default label" style="margin-top: 10px;">
            <div id="u151_div" class=""></div>
            <div id="u151_text" class="text ">
              <p>Room: <span style="text-decoration:none;" id="room2"></span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u152" class="ax_default label" style="margin-top: 10px;">
            <div id="u152_div" class=""></div>
            <div id="u152_text" class="text ">
              <p>Status: <span style="text-decoration:none;" id="status2"></span></p>
            </div>
          </div>
        </div>

        <!-- 该弹框已删除。 (组合) -->
        <div id="u153" class="ax_default ax_default_hidden" data-label="该弹框已删除。"
          style="display:none; visibility: hidden" data-left="125" data-top="189" data-width="1440" data-height="836">

          <!-- Unnamed (矩形) -->
          <div id="u154" class="ax_default box_3">
            <div id="u154_div" class=""></div>
            <div id="u154_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u155" class="ax_default box_1">
            <div id="u155_div" class=""></div>
            <div id="u155_text" class="text ">
              <p><span style="text-decoration:none;"><br></span></p>
              <p><span style="text-decoration:none;"><br></span></p>
              <p><span style="text-decoration:none;"><br></span></p>
              <p><span style="text-decoration:none;" id="tips">This hospitalization has been deleted</span></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u156" class="ax_default icon">
            <img id="u156_img" class="img " src="images/住院信息/u156.svg" />
            <div id="u156_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>
        </div>

        <!-- 新建 (组合) -->
        <div id="u157" class="ax_default ax_default_hidden" data-label="新建" style="display:none; visibility: hidden"
          data-left="434" data-top="285" data-width="894" data-height="643">

          <!-- 安排住院 (矩形) -->
          <div id="u158" class="ax_default shape" data-label="安排住院">
            <div id="u158_div" class=""></div>
            <div id="u158_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u159" class="ax_default shape">
            <div id="u159_div" class=""></div>
            <div id="u159_text" class="text ">
              <p><span style="text-decoration:none;">Add hospitalization</span></p>
            </div>
          </div>

          <!-- Unnamed (Triangle Up) -->
          <div id="u160" class="ax_default shape">
            <img id="u160_img" class="img " src="images/住院信息/u118.svg" />
            <div id="u160_text" class="text " style="display:none; visibility: hidden">
              <p></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u161" class="ax_default label">
            <div id="u161_div" class=""></div>
            <div id="u161_text" class="text ">
              <p>Submitted by: <span style="text-decoration:none;" class="submitter">Lisa</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u162" class="ax_default button">
            <div id="u162_div" class=""></div>
            <div id="u162_text" class="text ">
              <p><span style="text-decoration:none;">Cancel</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u163" class="ax_default button" onclick="ConfirmAdd()">
            <div id="u163_div" class=""></div>
            <div id="u163_text" class="text ">
              <p><span style="text-decoration:none;">Confirm</span></p>
            </div>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u164" class="ax_default text_field">
            <div id="u164_div" class=""></div>
            <input id="u164_input" type="date" value="" class="u164_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u165" class="ax_default text_field">
            <div id="u165_div" class=""></div>
            <input id="u165_input" type="text" value="" class="u165_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u166" class="ax_default text_field">
            <div id="u166_div" class=""></div>
            <input id="u166_input" type="text" value="" class="u166_input" />
          </div>

          <!-- 弹窗中的下拉列表 -->
          <div id="u167" class="ax_default droplist">
            <div id="u167_div" class=""></div>
            <select id="u167_input" class="u167_input">
              <option class="u167_input_option" value="dermatology">dermatology</option>
              <option class="u167_input_option" value="ear, nose &amp; throat">ear, nose &amp; throat</option>
              <option class="u167_input_option" value="emergency department">emergency department</option>
              <option class="u167_input_option" value="gynecology &amp; obstetrics">gynecology &amp; obstetrics</option>
              <option class="u167_input_option" value="ophthalmology">ophthalmology</option>
              <option class="u167_input_option" value="stomatology">stomatology</option>
            </select>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u168" class="ax_default label">
            <div id="u168_div" class=""></div>
            <div id="u168_text" class="text ">
              <p><span style="text-decoration:none;">Birthday:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u169" class="ax_default label">
            <div id="u169_div" class=""></div>
            <div id="u169_text" class="text ">
              <p><span style="text-decoration:none;">Name:</span></p>
            </div>
          </div>

          <div id="uText" class="ax_default label">
            <div id="uText_div" class=""></div>
            <div id="uText_text" class="text ">
              <p><span style="text-decoration:none;">Choose registered patient according to department below:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u170" class="ax_default label">
            <div id="u170_div" class=""></div>
            <div id="u170_text" class="text ">
              <p><span style="text-decoration:none;">Gender:</span></p>
            </div>
          </div>

          <!-- Unnamed (形状) -->
          <div id="u171" class="ax_default label">
            <img id="u171_img" class="img " src="images/住院信息/u133.svg" />
            <div id="u171_text" class="text ">
              <p><span style="text-decoration:none;">Passport:</span></p>
            </div>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u172" class="ax_default text_field">
            <div id="u172_div" class=""></div>
            <input id="u172_input" type="tel" value="" class="u172_input" />
          </div>

          <div id="uSelect" class="ax_default droplist">
            <div id="uSelect_div" class=""></div>
            <select id="uSelect_input" class="uSelect_input">
            </select>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u173" class="ax_default text_field">
            <div id="u173_div" class=""></div>
            <input id="u173_input" type="text" value="" class="u173_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u174" class="ax_default text_field">
            <div id="u174_div" class=""></div>
            <input id="u174_input" type="text" value="" class="u174_input" />
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u175" class="ax_default label">
            <div id="u175_div" class=""></div>
            <div id="u175_text" class="text ">
              <p><span style="text-decoration:none;">Phone:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u176" class="ax_default label">
            <div id="u176_div" class=""></div>
            <div id="u176_text" class="text ">
              <p><span style="text-decoration:none;">Address:</span></p>
            </div>
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u177" class="ax_default text_field">
            <div id="u177_div" class=""></div>
            <input id="u177_input" type="tel" value="" class="u177_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u178" class="ax_default text_field">
            <div id="u178_div" class=""></div>
            <input id="u178_input" type="text" value="" class="u178_input" />
          </div>

          <!-- Unnamed (文本框) -->
          <div id="u179" class="ax_default text_field">
            <div id="u179_div" class=""></div>
            <input id="u179_input" type="text" value="" class="u179_input" />
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u180" class="ax_default label">
            <div id="u180_div" class=""></div>
            <div id="u180_text" class="text ">
              <p><span style="text-decoration:none;">Department:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u181" class="ax_default label">
            <div id="u181_div" class=""></div>
            <div id="u181_text" class="text ">
              <p><span style="text-decoration:none;">Building:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u182" class="ax_default label">
            <div id="u182_div" class=""></div>
            <div id="u182_text" class="text ">
              <p><span style="text-decoration:none;">Room:</span></p>
            </div>
          </div>

          <!-- Unnamed (矩形) -->
          <div id="u183" class="ax_default label">
            <div id="u183_div" class=""></div>
            <div id="u183_text" class="text ">
              <p><span style="text-decoration:none;">Start time:</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="resources/scripts/axure/ios.js"></script>
    <script type="text/javascript" src="../lib/Global.js"></script>
    <script type="text/javascript" src="../lib/jquery/1.9.1/jquery.js"></script>
    <script type="text/javascript">
      jQuery.noConflict();
      var dateInput = document.getElementById("u164_input");
      var today = new Date();
      var year = today.getFullYear();
      var month = String(today.getMonth() + 1).padStart(2, "0");
      var day = String(today.getDate()).padStart(2, "0");
      var defaultDate = year + "-" + month + "-" + day;
      dateInput.value = defaultDate;
      
      var account = sessionStorage.getItem('account');
      var auth = sessionStorage.getItem('auth');
      var modifier = sessionStorage.getItem('doctor_name');
      var department = sessionStorage.getItem('department');
      var dno =  sessionStorage.getItem('dno');
      $('#u129_input').val(department);
      $('#u167_input').val(department);
      $('#u112_input').val(department);
      $(".submitter").text(modifier)
      var pageStart = 0;
      var pageSize = 8;

      jQuery(document).ready(function ($) {
        getHospitalizations();
        setInterval(getHospitalizations, 5000);

        $('#u167_input').on('change',function(){
          getPatientsByDep($("#u167_input option:selected").val())
          var name = $("#u172_input").val("");
          var gender = $("#u173_input").val("");
          var birth = $("#u179_input").val("");
          var passport = $("#u174_input").val("");
          var phone = $("#u177_input").val("");
          var address = $("#u178_input").val("");
        })

        $('#uSelect_input').on('change',function(){
          if($('#uSelect_input option:selected').val() != "[ New patient ]")
          getPatientInfo($('#uSelect_input option:selected').val().slice(3,4))
        })

      });

      function getHospitalizations() {
        $.ajax({
          type: "GET",
          url: site_add + `/doctor/getAllHospitalizations/${department}/${pageStart}/${pageSize}?authorization=${auth}`,
          dataType: "json",
          async: false,
          success: function (resp) {
            $("#HospitalizationInfo").empty();
              $.each(resp, function (i, n) {
                $("#HospitalizationInfo").append("<tr>" +
                  "<td align='center'>" + n.hno + "</td>" +
                  "<td align='center'>" + n.department + "</td>" +
                  "<td align='center'>" + n.pno + "</td>" +
                  "<td align='center'>" + n.name + "</td>" +
                  "<td align='center'>" + n.gender + "</td>" +
                  "<td align='center'>" + n.birth + "</td>" +
                  "<td align='center'>" + n.building + "k-" + n.room + "</td>" +
                  "<td align='center'>" + n.status + "</td>" +
                  "<td align='center'>" + n.startTime + "</td>" +
                  "<td align='center'>" + n.submitter + "</td>" +
                  "<td align='center' style=\"width:110px\"><input type=\"button\" value=\"Edit\" onclick=\"Edit(this)\" class='operation_btn1'>" +
                  "<input type=\"button\" value=\"Del\" onclick=\"Del(this)\" class='operation_btn2'></td>" +
                  "</tr>")
                });
              
              if (resp.length / pageSize > parseInt((resp.length / pageSize)))
                  total_pageNum = parseInt((resp.length / pageSize)) + 1;
                else
                  total_pageNum = resp.length / pageSize;
                $("#Total_PageNum").html(total_pageNum);
            }
        })
      }

      function getPatientsByDep(department){
        $.ajax({
                type: "GET",
                url: site_add + `/register/getPatientsByDep/${department}?authorization=${auth}`,
                dataType: "json",
                async: false,
                success: function (resp) {
                  $('#uSelect_input').empty();
                  $('#uSelect_input').append(`<option value='New patient'>[ New patient ]</option>`);
                  $.each(resp, function (i, n) {
                  $('#uSelect_input').append(`<option value=No.${n.pno}:  ${n.pname}>No.${n.pno}:  ${n.pname}</option>`);
                });
                }
            })
      }

      function getPatientInfo(pno){
        $.ajax({
                type: "GET",
                url: site_add + `/patient/get_patient/${pno}?authorization=${auth}`,
                dataType: "json",
                async: false,
                success: function (resp) {
                  var name = $("#u172_input").val(resp.name);
                  var gender = $("#u173_input").val(resp.gender);
                  var birth = $("#u179_input").val(resp.birth);
                  var passport = $("#u174_input").val(resp.passport);
                  var phone = $("#u177_input").val(resp.phone);
                  var address = $("#u178_input").val(resp.address);
                }
            })
      }

      function add(){
        getPatientsByDep($("#u167_input option:selected").val())
      }

      function ConfirmAdd(){
        var pno = $('#uSelect_input option:selected').val().slice(3,4);
        var name = $("#u172_input").val();
        var gender = $("#u173_input").val();
        var birth = $("#u179_input").val();
        var passport = $("#u174_input").val();
        var phone = $("#u177_input").val();
        var address = $("#u178_input").val();
        var department = $("#u167_input option:selected").val();
        var building  = $("#u165_input").val();
        var room = $("#u166_input").val();
        var startTime = $("#u164_input").val();
        var submitter = modifier;

        $.ajax({
                type: "PUT",
                url: site_add + `/doctor/addHospitalization/${dno}/${department}/${pno}/${name}/${gender}/${birth}/${passport}/${phone}/${address}/${building}/${room}/${startTime}/${submitter}?authorization=${auth}`,
                dataType: "json",
                async: false,
                success: function (resp) {
                  $("#tips").text("Add hospitalization successful")
                  $("#u153").css("display","block");
                  $("#u153").css("visibility","visible");
                  getHospitalizations()
                }
            })

        setTimeout(function (){
            $("#u153").css("display","none");
            $("#u153").css("visibility","hidden");
          }, 1000);
      }

      function Edit(obj){
        $("#u115").css("display","block");
        $("#u115").css("visibility","visible");

        var hno = $(obj).parent('td').parent('tr').children('td').eq(0).html();
        var startTime = $(obj).parent('td').parent('tr').children('td').eq(8).html();
        var department = $(obj).parent('td').parent('tr').children('td').eq(1).html();
        var pno = $(obj).parent('td').parent('tr').children('td').eq(2).html();
        var name = $(obj).parent('td').parent('tr').children('td').eq(3).html();
        var gender = $(obj).parent('td').parent('tr').children('td').eq(4).html();
        var birth = $(obj).parent('td').parent('tr').children('td').eq(5).html();
        var room = $(obj).parent('td').parent('tr').children('td').eq(6).html();
        var building = room.split("k-")[0]
        var roomNum = room.split("k-")[1]

        $("#u134_input").val(name);
        $("#u135_input").val(gender);
        $("#u141_input").val(birth);
        $("#u127_input").val(building);
        $("#u128_input").val(roomNum);
        $("#u129_input").val(department);
        $("#u126_input").val(startTime);
        $("#doctor_name").text(modifier);
        $("#hno").text(hno)
        getPatient(pno)
      }

      function ConfirmEdit(){
        var hno = $("#hno").text();
        var name = $("#u134_input").val();
        var gender = $("#u135_input").val();
        var birth = $("#u141_input").val();
        var passport = $("#u136_input").val();
        var phone = $("#u139_input").val();
        var address = $("#u140_input").val();
        var department = $("#u129_input option:selected").val();
        var building  = $("#u127_input").val();
        var room = $("#u128_input").val();
        var startTime = $("#u126_input").val();
        var submitter = modifier;

        $.ajax({
                type: "POST",
                url: site_add + `/doctor/editHospitalization/${hno}/${department}/${name}/${gender}/${birth}/${passport}/${phone}/${address}/${building}/${room}/${startTime}/${submitter}?authorization=${auth}`,
                dataType: "json",
                async: false,
                success: function (resp) {
                  $("#tips").text("Update hospitalization record successful")
                  $("#u153").css("display","block");
                  $("#u153").css("visibility","visible");
                  getHospitalizations()
                }
            })

        setTimeout(function (){
          $("#u153").css("display","none");
          $("#u153").css("visibility","hidden");
        }, 1000);
      }

      function Del(obj){
        $("#u142").css("display","block");
        $("#u142").css("visibility","visible");

        var hno = $(obj).parent('td').parent('tr').children('td').eq(0).html();
        var department = $(obj).parent('td').parent('tr').children('td').eq(1).html();
        var name = $(obj).parent('td').parent('tr').children('td').eq(3).html();
        var gender = $(obj).parent('td').parent('tr').children('td').eq(4).html();
        var room = $(obj).parent('td').parent('tr').children('td').eq(6).html();
        var status = $(obj).parent('td').parent('tr').children('td').eq(7).html();
        
        $("#hno2").text(hno);
        $("#department2").text(department);
        $("#name2").text(name);
        $("#gender2").text(gender);
        $("#room2").text(room);
        $("#status2").text(status);
      }

      function confirmDel(){
        var hno = $("#hno2").text();
        $.ajax({
                type: "DELETE",
                url: site_add + `/doctor/delHospitalization/${hno}?authorization=${auth}`,
                dataType: "json",
                async: false,
                success: function (resp) {
                  $("#tips").text("This inpatient record has been deleted")
                  getHospitalizations()
                }
            })
      }

      function getPatient(pno){
        $.ajax({
                type: "GET",
                url: site_add + `/patient/get_patient/${pno}?authorization=${auth}`,
                dataType: "json",
                success: function (resp) {
                    $("#u136_input").val(resp.passport);
                    $("#u139_input").val(resp.phone);
                    $("#u140_input").val(resp.address);
                }
            })
      }

    </script>
</body>

</html>